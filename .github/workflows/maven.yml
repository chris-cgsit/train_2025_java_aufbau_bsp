steps:
  # 1. Checkout des Codes
  - name: Checkout Code
    uses: actions/checkout@v4

  # 2. Java-Umgebung einrichten
  # Wichtig: Die Version 23 muss hier angegeben werden, passend zur pom.xml
  - name: Set up JDK 23
    uses: actions/setup-java@v4
    with:
      java-version: '23'
      distribution: 'temurin'
      cache: 'maven'

  # 3. Compile, Test und Build
  # Die Option '--batch-mode' (oder '-B') ist wichtig, da sie Maven im nicht-interaktiven Modus ausführt.
  - name: Build and Test with Maven
    run: mvn -B clean install

# Anmerkung:
# 'mvn clean install' führt standardmäßig Folgendes aus:
# 1. clean: Löscht den Zielordner.
# 2. compile: Kompiliert den Quellcode.
# 3. test: Führt die Unit-Tests aus (mit JUnit 5).
# 4. package: Erstellt die JAR/WAR-Datei.
# 5. install: Installiert das Artefakt in das lokale Maven-Repository.
